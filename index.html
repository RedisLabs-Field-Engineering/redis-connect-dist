<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>Redis Connect</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Redis Connect</h1>
<div class="details">
<span id="revnumber">version 0.10.3</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#introduction">1. Introduction</a></li>
<li><a href="#key-terms">2. Key Terms</a></li>
<li><a href="#source-distributions">3. Source Distributions</a></li>
<li><a href="#supported-sources">4. Supported Sources</a></li>
<li><a href="#redis-connect-management">5. Redis Connect Management</a>
<ul class="sectlevel2">
<li><a href="#rest-api">5.1. REST API</a></li>
<li><a href="#rest-api-security">5.2. REST API Security</a></li>
<li><a href="#cli">5.3. CLI</a></li>
</ul>
</li>
<li><a href="#production-deployment">6. Production Deployment</a>
<ul class="sectlevel2">
<li><a href="#environment">6.1. Environment</a></li>
<li><a href="#operating-system-and-jvm">6.2. Operating System and JVM</a></li>
<li><a href="#jvm-flags">6.3. JVM Flags</a></li>
<li><a href="#redis-requirements">6.4. Redis Requirements</a></li>
<li><a href="#logging">6.5. Logging</a></li>
<li><a href="#monitoring">6.6. Monitoring</a></li>
<li><a href="#security">6.7. Security</a></li>
<li><a href="#high-availability">6.8. High availability</a></li>
</ul>
</li>
<li><a href="#configuration-overview">7. Configuration Overview</a>
<ul class="sectlevel2">
<li><a href="#job-configuration">7.1. Job Configuration</a></li>
<li><a href="#credentials-files">7.2. Credentials files</a></li>
</ul>
</li>
<li><a href="#cluster-configuration">8. Cluster Configuration</a>
<ul class="sectlevel2">
<li><a href="#cluster-properties">8.1. Cluster properties</a></li>
<li><a href="#job-manager-services-properties">8.2. Job manager services properties</a></li>
<li><a href="#rest-api-properties">8.3. REST API Properties</a></li>
<li><a href="#job-management-database-properties">8.4. Job Management Database Properties</a></li>
<li><a href="#email-alerting-properties">8.5. Email Alerting Properties</a></li>
</ul>
</li>
<li><a href="#job-configuration-main">9. Job Configuration</a>
<ul class="sectlevel2">
<li><a href="#job-properties">9.1. Job properties</a></li>
<li><a href="#job-pipeline-properties">9.2. Job Pipeline Properties</a></li>
<li><a href="#job-pipeline-stage-properties">9.3. Job Pipeline Stage Properties</a></li>
<li><a href="#job-source-properties">9.4. Job Source Properties</a></li>
<li><a href="#job-source-database-properties">9.5. Job Source Database Properties</a></li>
<li><a href="#job-source-table-column-properties">9.6. Job Source Table Column Properties</a></li>
<li><a href="#job-source-table-initial-load-properties">9.7. Job Source Table Initial Load Properties</a></li>
<li><a href="#database-properties">9.8. Database Properties</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="introduction"><a class="anchor" href="#introduction"></a>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Redis Connect is a distributed platform that enables real-time event streaming, transformation, and
propagation of <a href="https://en.wikipedia.org/wiki/Change_data_capture">changed-data events</a> from heterogeneous data platforms to Redis Stack, Redis Cloud, and Redis Enterprise.</p>
</div>
<div class="paragraph">
<p>Redis Connect effectively captures change data events from source databases and writes that data to Redis.
This allows you to keep a Redis database in sync with a variety of source databases.
You can then use Redis to serve this data to downstream applications at low latencies.</p>
</div>
<div class="paragraph">
<p>This document outlines key terms, installation instructions, production readiness guidelines, and
definitions for the various configuration directives for Redis Connect clusters and jobs.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#key-terms">Key Terms</a></p>
</li>
<li>
<p><a href="#source-distributions">Source Distributions</a></p>
</li>
<li>
<p><a href="#production-deployment">Production Deployment</a></p>
</li>
<li>
<p><a href="#configuration-overview">Configuration Overview</a></p>
</li>
<li>
<p><a href="#cluster-configuration">Cluster Configuration</a></p>
</li>
<li>
<p><a href="#job-configuration-main">Job Configuration</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="key-terms"><a class="anchor" href="#key-terms"></a>2. Key Terms</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To understand how Redis Connect works, it&#8217;s important review some key terms:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Source</dt>
<dd>
<p>A database, such as PostgreSQL, whose data will be replicated to Redis. Redis Connect replicates data from a source database to Redis.</p>
</dd>
<dt class="hdlist1">Target</dt>
<dd>
<p>A database to write data to. With Redis Connect, the target is usually Redis.</p>
</dd>
<dt class="hdlist1">Job</dt>
<dd>
<p>A stream of change-data events replicating from source to target.
For example, you can replicate all changes from a given set of PostgreSQL tables to Redis
and maintain consistency between these tables and their Redis representations in real time.</p>
</dd>
<dt class="hdlist1">Job Types</dt>
<dd>
<p>Redis Connect supports two types of jobs: <strong>initial load jobs</strong> and <strong>stream jobs</strong>.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Initial load jobs</strong> create a point-in-time snapshot of the tables to be replicated and then transfer
their data to Redis.</p>
</li>
<li>
<p><strong>Stream jobs</strong> (also known as CDC or "change data capture" jobs) replicate changes from the source tables to Redis as those changes occur.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Instance</dt>
<dd>
<p>A single JVM process running Redis Connect. Because Redis Connect is a distributed platform,
it may run as one or more coordinated instances.</p>
</dd>
<dt class="hdlist1">Cluster</dt>
<dd>
<p>One or more <strong>instances</strong> of Redis Connect running in a coordinated fashion.</p>
</dd>
<dt class="hdlist1">Partition</dt>
<dd>
<p>A way of dividing jobs to scale them horizontally. Each job may be divided into
one or more partitions. Partitions are divided automatically among Redis Connect instances.
If a Redis Connect instances becomes unavailable, all jobs partitions will be migrated to another available instance.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="source-distributions"><a class="anchor" href="#source-distributions"></a>3. Source Distributions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Redis Connect releases are distributed on Github.</p>
</div>
<div class="paragraph">
<p>See the <a href="https://github.com/redis-field-engineering/redis-connect-dist/releases">Redis Connect Release History</a>
to download the latest distributions of Redis Connect.</p>
</div>
<div class="paragraph">
<p>The source distribution contains four relevant folders:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">lib</dt>
<dd>
<p>JARs for Redis Connect and its dependencies.</p>
</dd>
<dt class="hdlist1">extlib</dt>
<dd>
<p>JARs for Redis Connect custom stages and database drivers not included the Redis Connect
distribution (e.g., Oracle and DB2). These database drivers must be provided by the Redis Connect user.</p>
</dd>
<dt class="hdlist1">config</dt>
<dd>
<p>Working configuration files, sample payloads for configuring jobs, and Grafana dashboard configurations.</p>
</dd>
<dt class="hdlist1">bin</dt>
<dd>
<p>Scripts for running Redis Connect on Linux VMs, in container environments, and on Windows.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="supported-sources"><a class="anchor" href="#supported-sources"></a>4. Supported Sources</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Redis Connect can capture change data from several RDBMS and NoSQL databases.
Redis Connect can also load data from CSV and JSON files.</p>
</div>
<div class="paragraph">
<p>The table below show the complete list of supported sources.
Each source database name links to a demo with sample configuration and data.</p>
</div>
<div class="paragraph">
<p>Under the hood, Redis Connect uses <a href="https://debezium.io/">Debezium</a> to access most of its source
databases. In production, it&#8217;s important that your source database is configured as Debezium
expects. Be sure to review the Debezium doc links below.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Supported source databases</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Database name</th>
<th class="tableblock halign-left valign-top">Job types</th>
<th class="tableblock halign-left valign-top">Debezium Docs</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/redis-field-engineering/redis-connect-dist/tree/main/examples/db2">DB2</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial load</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://debezium.io/documentation/reference/stable/connectors/db2.html">Debezium docs</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/redis-field-engineering/redis-connect-dist/tree/main/examples/files">Files</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial load</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/redis-field-engineering/redis-connect-dist/tree/main/examples/gemfire">Gemfire</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial load &amp; Stream</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/redis-field-engineering/redis-connect-dist/tree/main/examples/mongodb">MongoDB</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial load &amp; Stream</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://debezium.io/documentation/reference/stable/connectors/mongodb.html">Debezium docs</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/redis-field-engineering/redis-connect-dist/tree/main/examples/mysql">MySQL</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial load &amp; Stream</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://debezium.io/documentation/reference/stable/connectors/mysql.html">Debezium docs</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/redis-field-engineering/redis-connect-dist/tree/main/examples/oracle">Oracle</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial load &amp; Stream</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://debezium.io/documentation/reference/stable/connectors/oracle.html">Debezium docs</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/redis-field-engineering/redis-connect-dist/tree/main/examples/oracle">PostgreSQL</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial load &amp; Stream</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://debezium.io/documentation/reference/stable/connectors/postgresql.html">Debezium docs</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/redis-field-engineering/redis-connect-dist/tree/main/examples/splunk">Splunk</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial load</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/redis-field-engineering/redis-connect-dist/tree/main/examples/mssql">SQLServer</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial load &amp; Stream</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://debezium.io/documentation/reference/stable/connectors/sqlserver.html">Debezium docs</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/redis-field-engineering/redis-connect-dist/tree/main/examples/vertica">Vertica</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial load</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="redis-connect-management"><a class="anchor" href="#redis-connect-management"></a>5. Redis Connect Management</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once Redis Connect is installed and running, you manage Redis Connect using its REST API or command line interface (CLI).</p>
</div>
<div class="sect2">
<h3 id="rest-api"><a class="anchor" href="#rest-api"></a>5.1. REST API</h3>
<div class="paragraph">
<p>Each Redis Connect instance can be configured to expose a REST API with a Swagger interface for ease of use.</p>
</div>
<div class="paragraph">
<p>The table below shows a few of the commonly-used REST endpoints.
For the complete REST API documentation, see the
<a href="https://redis-field-engineering.github.io/redis-connect-api-docs/">Redis Connect Swagger API Docs</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Common REST API Endpoints</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Endpoint name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Documentation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="create-job-endpoint"></a>Create job</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Saves job configuration for the provided <code>jobName</code>.</p>
<p class="tableblock">Many of the optional job configuration attributes have default values which can be reviewed once the job configuration
is saved or found in the documentation.</p>
<p class="tableblock">Example Redis key: {connect}:job:config:jobName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://redis-field-engineering.github.io/redis-connect-api-docs/#/QUICK%20START/saveUsingPOST_1">Create job Swagger endpoint</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Start job</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Starts a job, including all job partitions.</p>
<p class="tableblock">This includes both initial load and stream jobs.
For a job start, all job partitions must be stopped or never before started.
There is no guarantee on which cluster instance will claim a job partition, and there is no advantage to initiating this
operation from a specific cluster member.
Before a start is initiated, a job configuration must be created and a validated to confirm enough remaining capacity
exists across the cluster for all job partitions (this does not apply to initial load).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://redis-field-engineering.github.io/redis-connect-api-docs/#/QUICK%20START/startUsingPOST">Start job Swagger endpoint</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stop job</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stops a job, including all job partitions.</p>
<p class="tableblock">You cannot stop initial load jobs since they are removed automatically upon completion.
For a job to be stopped, all job partitions must be active.
Job claims, metrics, and checkpoints will all be preserved upon a job stop.
This ensures that the job can later resume from where it was stopped.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://redis-field-engineering.github.io/redis-connect-api-docs/#/QUICK%20START/stopUsingPOST">Stop job Swagger endpoint</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Job claim status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns job claims from across the cluster that match the requested jobStatus.</p>
<p class="tableblock">Valid job statuses are <code>staged</code>, <code>stopped</code>, and <code>all</code>.</p>
<p class="tableblock">Use this endpoint to see which jobs the cluster is managing, and their status.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://redis-field-engineering.github.io/redis-connect-api-docs/#/QUICK%20START/getJobClaimsByStatusUsingGET">Job claim status Swagger endpoint</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="rest-api-security"><a class="anchor" href="#rest-api-security"></a>5.2. REST API Security</h3>
<div class="paragraph">
<p>In a production environment, the Swagger API may require an open port in a firewall.
By default, the API is available on port 8282, but this is configurable.</p>
</div>
<div class="paragraph">
<p>If you are running multiple Redis Connect instances on the same server, each instance will require a different port
for its REST API.</p>
</div>
</div>
<div class="sect2">
<h3 id="cli"><a class="anchor" href="#cli"></a>5.3. CLI</h3>
<div class="paragraph">
<p>Redis Connect includes a command line interface that exposes the management functions provided
by the REST API. You can start a CLI instance from the command line as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ ./bin/redisconnect.sh cli</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once the CLI has started, type <code>help</code> to see the available commands.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="production-deployment"><a class="anchor" href="#production-deployment"></a>6. Production Deployment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Redis Connect is deployed as one or more JVM instances coordinated as a cluster.
Below are recommendations for running Redis Connect in production.</p>
</div>
<div class="sect2">
<h3 id="environment"><a class="anchor" href="#environment"></a>6.1. Environment</h3>
<div class="paragraph">
<p>Redis Connect can be deployed on physical servers, virtual machines, or using Docker or any Kubernetes-based
environment.</p>
</div>
<div class="paragraph">
<p>The minimum resource requirements per Redis Connect instance are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>4 CPU cores</p>
</li>
<li>
<p>2 GB memory</p>
</li>
<li>
<p>20 GB of free disk space</p>
</li>
<li>
<p>1 Gbps networking</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We recommend allocating one thread per job partition.
You can deploy more than one Redis Connect instance on a single VM.
The number of Redis Connect instances that can effectively be deployed on a single machine or VM
will depend on that VM&#8217;s physical memory and number of CPU cores.
However, for high availability, you must deploy your Redis Connect instances
across more than one physical server or VM. See <a href="#high-availability">High Availability</a> below for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="operating-system-and-jvm"><a class="anchor" href="#operating-system-and-jvm"></a>6.2. Operating System and JVM</h3>
<div class="paragraph">
<p>Redis Connect can run on any operating system hosting a Java runtime environment.
However, for production deployments, we recommend Linux.</p>
</div>
<div class="paragraph">
<p>Redis Connect is supported on Java versions 11 and greater.</p>
</div>
<div class="paragraph">
<p>For information on deploying to Kubernetes environments, see the
<a href="https://github.com/redis-field-engineering/redis-connect-dist/tree/main/k8s-docs">Redis Connect Kubernetes documentation</a>.</p>
</div>
<div class="sect3">
<h4 id="environment-variables"><a class="anchor" href="#environment-variables"></a>6.2.1. Environment Variables</h4>
<div class="paragraph">
<p>Redis Connect recognizes and depends upon several environment variables.
You can see example of these in the startup scripts included in the Redis Connect distribution.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>REDISCONNECT_MIN_JAVA_VERSION="11"</code></p>
</li>
<li>
<p><code>REDISCONNECT_HOME="${REDIS_CONNECT_HOME_DIR}"</code></p>
</li>
<li>
<p><code>REDISCONNECT_JOB_MANAGER_CONFIG_PATH="$REDISCONNECT_HOME/config/jobmanager.properties"</code></p>
</li>
<li>
<p><code>REDISCONNECT_LOGBACK_CONFIG="$REDISCONNECT_HOME/config/logback.xml"</code></p>
</li>
<li>
<p><code>REDISCONNECT_LOGBACK_CLI_CONFIG="$REDISCONNECT_HOME/config/logback-cli.xml"</code></p>
</li>
<li>
<p><code>REDISCONNECT_JAVA_OPTIONS="-XX:+HeapDumpOnOutOfMemoryError -Xms1g -Xmx2g"</code></p>
</li>
<li>
<p><code>REDISCONNECT_EXTLIB_DIR="$REDISCONNECT_HOME/extlib"</code></p>
</li>
<li>
<p><code>REDISCONNECT_LIB_DIR="$REDISCONNECT_HOME/lib/*:$REDISCONNECT_EXTLIB_DIR/\*"</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="jvm-flags"><a class="anchor" href="#jvm-flags"></a>6.3. JVM Flags</h3>
<div class="paragraph">
<p>We recommend the following JVM flags for each Redis Connect JVM instance:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Enable heap dump on OOM: <code>-XX:+HeapDumpOnOutOfMemoryError</code></p>
</li>
<li>
<p>Min heap size of 1 GB: <code>-Xms1g</code></p>
</li>
<li>
<p>Max heap size of 2 GB: <code>-Xmx2g</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To set Redis Connect&#8217;s JVM options, use the <code>REDISCONNECT_JAVA_OPTIONS</code> environment variable:</p>
</div>
<div class="paragraph">
<p><code>REDISCONNECT_JAVA_OPTIONS="-XX:+HeapDumpOnOutOfMemoryError -Xms1g -Xmx2g"</code></p>
</div>
</div>
<div class="sect2">
<h3 id="redis-requirements"><a class="anchor" href="#redis-requirements"></a>6.4. Redis Requirements</h3>
<div class="paragraph">
<p>Redis Connect requires a working <a href="https://docs.redis.com/latest/rs/">Redis Enterprise Software</a> or
<a href="https://docs.redis.com/latest/rc/">Redis Cloud</a> installation.</p>
</div>
<div class="paragraph">
<p>We recommend provisioning two Redis databases. These database can reside in the same Redis Enterprise cluster.</p>
</div>
<div class="paragraph">
<p>The first database will serve as your Redis Connect cluster&#8217;s configuration store. This database should be configured
as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Data persistence enabled (RDF + AOF every second)</p>
</li>
<li>
<p><a href="https://docs.redis.com/latest/rs/databases/durability-ha/replication/">High availability</a> enabled</p>
</li>
<li>
<p>ACLs enabled (See <a href="#security">Security</a> below)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The second database will serve as the target for replication from the source database. Since this is an operational
database receiving change-data events, the sizing for this database depends on the sizes of the tables being replicated
and on the volume of change-data events. In all cases, we still recommend:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.redis.com/latest/rs/databases/durability-ha/replication/">High availability</a> enabled</p>
</li>
<li>
<p>ACLs enabled (See <a href="#security">Security</a> below)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="logging"><a class="anchor" href="#logging"></a>6.5. Logging</h3>
<div class="paragraph">
<p>Redis Connect uses <a href="https://logback.qos.ch/">Logback</a> for logging.
See your Redis Connect distribution&#8217;s <code>config/logback.xml</code> for a sample Logback configuration file.</p>
</div>
<div class="paragraph">
<p>Redis connect locates its logging config files using the following environment variables:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>REDISCONNECT_LOGBACK_CONFIG="$REDISCONNECT_HOME/config/logback.xml"</code></p>
</li>
<li>
<p><code>REDISCONNECT_LOGBACK_CLI_CONFIG="$REDISCONNECT_HOME/config/logback-cli.xml"</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Redis Connect has been designed to provide descriptive logs to make troubleshooting easier.</p>
</div>
<div class="paragraph">
<p>If you need to change your application log level at runtime, you can do this using the <a href="#rest-api">REST API</a>.
See the <a href="https://redis-field-engineering.github.io/redis-connect-api-docs/#/LOG%20MANAGEMENT/listLogLevelUsingGET">loglevel REST endpoint documentation</a> for details.</p>
</div>
<div class="paragraph">
<p>Note that log level changes are not global; they apply only to the instance whose REST API you are connected to.
To change the log level for a given instance, connect directly to that instance&#8217;s REST API.</p>
</div>
</div>
<div class="sect2">
<h3 id="monitoring"><a class="anchor" href="#monitoring"></a>6.6. Monitoring</h3>
<div class="paragraph">
<p>Redis Connect publishes performance metrics to job manager&#8217;s configuration database.
This takes advantage of <a href="https://redis.io/docs/data-types/timeseries/">Redis' time series capabilities</a>.</p>
</div>
<div class="paragraph">
<p>You can view these metrics in Grafana using
the <a href="https://grafana.com/grafana/plugins/redis-datasource/">Redis Datasource for Grafana</a>.</p>
</div>
<div class="paragraph">
<p>Your Redis Connect distribution includes a pre-configured dashboard for viewing key operational metrics.
You can find this dashboard and its Grafana configuration at <code>config/samples/dashboard</code>, and this
configuration can be modified to fit your monitoring requirements.</p>
</div>
<div class="paragraph">
<p>The sample dashboard looks like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="dashboard.png" alt="dashboard">
</div>
</div>
<div class="paragraph">
<p>Important metrics include the following:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Staged jobs</dt>
<dd>
<p>The list of all configured jobs in the Redis Connect cluster.</p>
</dd>
<dt class="hdlist1">Job heartbeats</dt>
<dd>
<p>Heartbeats for the currently active job partitions.
Each active partition records a heartbeat every second,
indicating that the job is actively being run by a Redis Connect instance.</p>
</dd>
<dt class="hdlist1">Ops per second</dt>
<dd>
<p>The number of write operations against the target database completed per second.</p>
</dd>
<dt class="hdlist1">Lag</dt>
<dd>
<p>The average elapsed time between the moment a change event is published to the source database
and the moment that event is written to the target database (i.e., Redis).
High lag values may indicate that your Redis Connect cluster is failing to keep up with
the volume of CDC changes. Note that this metric only applies to stream jobs.</p>
</dd>
<dt class="hdlist1">Latency</dt>
<dd>
<p>The average amount of time, in milliseconds, that it takes to publish a change event from the source database to Redis.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="security"><a class="anchor" href="#security"></a>6.7. Security</h3>
<div class="paragraph">
<p>Redis Connect should be run in a secure network environment.
Because Redis Connect connects to source and target databases,
those connections <strong>may</strong> be secured with TLS/SSL and <strong>must</strong> be secured
using authentication credentials.</p>
</div>
<div class="paragraph">
<p>To support additional security requirements, Redis Connect supports
file-based credential rotation, optionally powered by secrets management
frameworks like Hashicorp Vault.</p>
</div>
<div class="sect3">
<h4 id="tlsssl-support"><a class="anchor" href="#tlsssl-support"></a>6.7.1. TLS/SSL Support</h4>
<div class="paragraph">
<p>Most database systems support one-way and mutual TLS, and TLS authentication is often required in production environments.</p>
</div>
<div class="paragraph">
<p>Redis Connect manages certificate-based authentication using Java&#8217;s KeyStore and TrustStore support.
To configure the Java KeyStore and TrustStore, see the <a href="#truststore-link">KeyStore and TrustStore configuration reference</a>.</p>
</div>
<div class="paragraph">
<p>To configure Redis Enterprise with TLS, see the documentation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.redis.com/latest/rc/security/database-security/tls-ssl/">TLS with Redis Cloud</a></p>
</li>
<li>
<p><a href="https://docs.redis.com/latest/rs/security/tls/">TLS with Redis Enterprise Software</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="database-acls"><a class="anchor" href="#database-acls"></a>6.7.2. Database ACLs</h4>
<div class="paragraph">
<p>The Redis job manager and the job target databases should have ACLs enabled.
To keep your Redis databases secure and prevent accidental misconfigurations,
we recommend the following policies:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create separate Redis database users for your Redis Connect instances, Redis Connect administrators, and developers.</p>
</li>
<li>
<p>Developers should be provided with read-only access to these Redis databases.</p>
</li>
<li>
<p>Ensure that any application user connecting Redis Connect&#8217;s Redis databases has <code>dangerous</code> commands disabled.</p>
</li>
<li>
<p>Users should not have permission to delete keys starting with "{connect}". This prevents accidental deletion
of important configuration.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="authentication-credentials"><a class="anchor" href="#authentication-credentials"></a>6.7.3. Authentication Credentials</h4>
<div class="paragraph">
<p>Redis Connect gets its database authentication credentials from properties files stored on the filesystem.</p>
</div>
<div class="paragraph">
<p>The file <code>redisconnect_credentials_jobmanager.properties</code> is common to all Redis Connect instances.
This file provides the following authentication credentials:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Username and password for the Redis database used to store Redis Connect&#8217;s configuration</p>
</li>
<li>
<p>Password for the certificate TrustStore (when applicable)</p>
</li>
<li>
<p>Password for the certificate KeyStore (when applicable)</p>
</li>
<li>
<p>Password for an SMTP mail server, when email alerts are enabled</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition to the job manager&#8217;s credentials, Redis Connect requires two credential files for each job:
one for the source database and another for the target Redis database.</p>
</div>
<div class="paragraph">
<p><strong>Source database credential files</strong> are named according to this scheme:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">redisconnect_credentials_[SOURCE_DB_NAME]_[JOB_NAME].properties</code></pre>
</div>
</div>
<div class="paragraph">
<p>For example, if you have a job where PostgreSQL is the source database, and the job is called "user-replication",
then you will need a properties file called:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">redisconnect_credentials_PostgreSQL_user-replication.properties</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>target database credentials files</strong> are named as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">redisconnect_credentials_redis_[JOB_NAME].properties</code></pre>
</div>
</div>
<div class="paragraph">
<p>For job called "user-replication", the Redis target database credentials file will be named:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">redisconnect_credentials_redis_user-replication.properties</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can see examples of credentials files in the <code>config/samples/credentials</code> directory of the Redis Connect
distribution.</p>
</div>
</div>
<div class="sect3">
<h4 id="securing-credentials-files"><a class="anchor" href="#securing-credentials-files"></a>6.7.4. Securing Credentials Files</h4>
<div class="paragraph">
<p>Because credentials files store sensitive information in plain text on the filesystem, these files must
have strict permissions. Only authorized users should be able to read and write to these files.</p>
</div>
<div class="paragraph">
<p>As with private key files, these credentials files should be user read/write only (e.g., chmod 600).</p>
</div>
</div>
<div class="sect3">
<h4 id="credential-rotation"><a class="anchor" href="#credential-rotation"></a>6.7.5. Credential Rotation</h4>
<div class="paragraph">
<p>Redis Connect instances listen for changes to the credentials files. When the contents of these files changes,
Redis Connect will read the changes to ensure that database connectivity is maintained.</p>
</div>
<div class="paragraph">
<p>To enable support for credential rotation in Redis Connection, open <code>jobmanager.properties</code> and ensure that the
credential rotation directives are uncommented. The following configuration enabled the credential file listener
and sets it to check for changes every 60 seconds:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>credentials.rotation.event.listener.enabled=true</code></p>
</li>
<li>
<p><code>credentials.rotation.event.listener.interval=60000</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="secrets-management"><a class="anchor" href="#secrets-management"></a>6.7.6. Secrets Management</h4>
<div class="paragraph">
<p>You can use a secrets management framework such as Hashicorp Vault to securely store and rotate credentials.
To use a secrets management framework:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that framework can write property files in a given mounted path on your filesystem.</p>
</li>
<li>
<p>In <code>jobmanager.properties</code>, set the <code>credentials.dir.path</code> to this mounted path.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="high-availability"><a class="anchor" href="#high-availability"></a>6.8. High availability</h3>
<div class="paragraph">
<p>For high-availability, we recommend that you employ <em>n</em>+1 redundancy as part of your Redis Connect cluster.
In this case, <em>n</em> is defined as the minimum number of Redis Connect instances required to provision all of the
jobs that you intend to run.</p>
</div>
<div class="paragraph">
<p>We also recommend that you deploy each Redis Connect instance on a separate VM. When running in the cloud,
you should ensure that your Redis Connect instances are distributed across cloud availability zones.</p>
</div>
<div class="sect3">
<h4 id="instance-failure-behavior"><a class="anchor" href="#instance-failure-behavior"></a>6.8.1. Instance failure behavior</h4>
<div class="paragraph">
<p>In the event of a Redis Connect instance (JVM) failure, the heartbeat lease of each job partition owned by that instance
expires. Once expired, the job reaper will identify each partition without a heartbeat and immediately publish a job claim
request.</p>
</div>
<div class="paragraph">
<p>Even if a JVM was restarted on the same machine, on which it just failed, it would still need to compete with the other
instances with available capacity to claim the job partitions.</p>
</div>
<div class="paragraph">
<p>It&#8217;s important to understand each job’s capacity requirements and related settings to calculate how many instances are needed.
For example, if a job with 4 partitions and a setting of <code>maxPartitionsPerClusterMember=2</code> is deployed across a 2-instance cluster,
then even if there are 20 available capacity on each Redis Connect instance, they would be blocked from claiming more of this job’s
unclaimed partitions in the event of a node failure.</p>
</div>
<div class="paragraph">
<p>It&#8217;s also important to set the Job Manager property <code>job.claim.max.capacity</code> appropriate to the desired redundancy requirement
with respect to all job partitions planned for deployment across the cluster.
For example, if there are 3 cluster nodes each with a goal to deploy a job with 4 partitions, then in order to achieve n+1 redundancy,
each node would have to configure job.claim.max.capacity=2, or more, since the loss of one node would still allow for all 4 partitions
to be claimed.</p>
</div>
</div>
<div class="sect3">
<h4 id="instance-failures"><a class="anchor" href="#instance-failures"></a>6.8.2. Instance failures</h4>
<div class="paragraph">
<p>For high-availability, it is recommended to deploy each Redis Connect instance on a separate VM or cloud availability zone.
For on-premises deployments, extra care should be taken to ensure that each VM is deployed on different underlying server racks
to avoid a single point of failure.</p>
</div>
<div class="paragraph">
<p>Each VM / cloud availability zone should have access to each job’s source, job’s target, and the Redis Connect Job Manager database.</p>
</div>
<div class="paragraph">
<p>For deployment on Kubernetes, see the
<a href="https://github.com/redis-field-engineering/redis-connect-dist/tree/main/k8s-docs">Redis Connect Kubernetes Docs</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="network-partitions"><a class="anchor" href="#network-partitions"></a>6.8.3. Network partitions</h4>
<div class="paragraph">
<p>If a network partition occurs, then one side or the other (or both) of the partition needs to stop responding to requests
to maintain the consistency guarantee. If both sides continue to respond to reads and writes while they are unable to communicate
with each other, they will diverge and no longer be consistent. This state where both sides of the partition remain
available is called "split brain".</p>
</div>
<div class="paragraph">
<p>To avoid "split brain", Redis Connect jobs make a call to the Job Management database as the initial stage of their
producer’s source event-loop to check if their claim is still valid. Here’s why that matters.
A job cannot be claimed unless the Job Reaper identifies a staged job without a heartbeat, so until that lease expires,
the claim is intact. Once the heartbeat expires due to the network partition, the Job Reaper will first remove the claim
from the Job Management database before publishing a new job claim request.
So even if the original Redis Connect instance has not died, it cannot continue to process additional batches once its
claim is removed nor can it regain its ownership by default when the network partition is remedied.</p>
</div>
<div class="paragraph">
<p>By relying on Redis Enterprise as its source of truth, this cluster architecture is guaranteed to always have a single
job owner at any one point-in-time. This is because the metadata stored within Redis Enterprise has its own split-brain
protection.</p>
</div>
</div>
<div class="sect3">
<h4 id="source-connection-failures"><a class="anchor" href="#source-connection-failures"></a>6.8.4. Source Connection Failures</h4>
<div class="paragraph">
<p>Connections fail for many reasons both intermittently and for prolonged outages. Since Redis Connect does not know the
cause of a connection issue, the cluster will always assume that the connection failure is intermittent and attempt to
re-establish the connection.</p>
</div>
<div class="paragraph">
<p>For this purpose, it’s important to set the following configurations within the job source:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sourceConnectionMaxRetryAttempts</code></p>
</li>
<li>
<p><code>sourceConnectionMaxRetryDuration</code></p>
</li>
<li>
<p><code>sourceConnectionRetryDelayInterval</code></p>
</li>
<li>
<p><code>sourceConnectionRetryMaxDelayInterval</code></p>
</li>
<li>
<p><code>sourceConnectionRetryDelayFactor</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here&#8217;s an example of their use:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sourceConnectionMaxRetryAttempts=3</code></p>
</li>
<li>
<p><code>sourceConnectionMaxRetryDuration=10</code></p>
</li>
<li>
<p><code>sourceConnectionRetryDelayInterval=60</code></p>
</li>
<li>
<p><code>sourceConnectionRetryMaxDelayInterval=600</code></p>
</li>
<li>
<p><code>sourceConnectionRetryDelayFactor=3</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Based on the above, if the first attempt to connect fails, then the process waits 60 seconds before attempting its first retry.</p>
</div>
<div class="paragraph">
<p>If the retry fails, then the process waits 60 * 3 = 180 seconds for its second retry, and so on, up until the max delay interval between retries.</p>
</div>
</div>
<div class="sect3">
<h4 id="target-redis-connection-failures"><a class="anchor" href="#target-redis-connection-failures"></a>6.8.5. Target Redis Connection Failures</h4>
<div class="paragraph">
<p>Just like sources, Redis target connections have a retry mechanism.
However, these retries are built into the underlying Redis client (a.k.a., <a href="https://lettuce.io/">Lettuce</a>).
For production environments, we recommend using the default Redis connection settings.</p>
</div>
</div>
<div class="sect3">
<h4 id="target-redis-slow-consumer"><a class="anchor" href="#target-redis-slow-consumer"></a>6.8.6. Target Redis Slow Consumer</h4>
<div class="paragraph">
<p>It’s possible that the rate of incoming changed-data events and outgoing sink commits becomes unbalanced due to a slowdown
on the target database, usually because of network congestion. To avoid overwhelming the job pipeline queue, the combination of the
following settings helps to provide back-pressure support:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>slowConsumerMaxRetryAttempts</p>
</li>
<li>
<p>intermittentEventSleepDuration</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once the pipeline queue becomes full, a circuit breaker will be triggered to disable the producer’s polling event-loop
until the requisite pipeline capacity becomes available.
While the pipeline is iterating through its queued events,
the job’s producer will periodically attempt to publish the remainder of its current batch.</p>
</div>
<div class="paragraph">
<p>In between each attempt, the producer will sleep (based on intermittentEventSleepDuration), which allows the pipeline
time to catch up.
This loop will continue until either the required capacity becomes available or the <code>slowConsumerMaxRetryAttempts</code> limit
is reached. Once reached, the job will stop.</p>
</div>
<div class="paragraph">
<p>In production, we recommend that you set <code>slowConsumerMaxRetryAttempts</code> to a reasonable setting instead of making
it unlimited or disabling it.
This is where proper capacity estimation and partitioning will become critical since you don’t want to stop the job
unnecessarily due to a network disruption nor large spike in volume.
In other words, even if a single partition can handle the entire throughput on a regular basis,
it might be worthwhile to partition the deployment so that a sudden spike in throughput or a slow consumer does not
bring down the job.</p>
</div>
</div>
<div class="sect3">
<h4 id="recovery-time-considerations"><a class="anchor" href="#recovery-time-considerations"></a>6.8.7. Recovery Time Considerations</h4>
<div class="paragraph">
<p>Redis Connect’s job management processes are scheduled threads that periodically wake up to perform their service.
While it’s not critical to understand the internals of the cluster architecture, it is relevant to be aware of the balance
between job claim heartbeats and the Job Reaper service.</p>
</div>
<div class="paragraph">
<p>As mentioned previously, when a job partition is claimed it begins a heartbeat lease which has a
TTL set by <code>job.claim.heartbeat.lease.renewal.ttl</code>. If the lease cannot be renewed before expiry, the Job Reaper
service will remove the current owner’s claim based on the assumption that its Redis Connect instance is no longer alive.</p>
</div>
<div class="paragraph">
<p>This service is performed based on a fixed interval set by job.reap.attempt.interval. Once the job claim is removed,
each eligible Redis Connect instance will attempt to claim the job partition.
This Job Claim service is also based on a fixed interval set by job.claim.attempt.interval.</p>
</div>
<div class="paragraph">
<p>Since each interval is started at a different point-in-time (and some services have more work to do than others),
it’s impossible to synchronize all the moving parts. However, it is critical to avoid scenarios that can cause unexpected
behavior by giving enough buffer between associated services. For example, <code>job.reap.attempt.interval</code> must be at least
2 seconds more than <code>job.claim.attempt.interval</code> to avoid sending multiple job claim requests for the same partition.
This relates to recovery because each default interval can potentially add up to over a minute in recovery time inclusive
of the actual start job process. Therefore, if instant recovery is critical to production SLAs, our recommendation is to
consider the balance between separate services and as well as the stability of your network.
If these settings are set too low, it’s possible that a network disruption can unnecessarily
start the recovery process on a healthy job.</p>
</div>
<div class="paragraph">
<p>See <a href="#cluster-configuration">Cluster Configuration</a> for details on setting these properties.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration-overview"><a class="anchor" href="#configuration-overview"></a>7. Configuration Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Redis Connect&#8217;s main configuration file is called "jobmanager.properties".
You can find an example of this file in your distribution&#8217;s "/config" directory.</p>
</div>
<div class="paragraph">
<p>The location of this file is provided to Redis Connect with the <code>REDISCONNECT_JOB_MANAGER_CONFIG_PATH</code> environment
variable. Here&#8217;s an example of its use:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>REDISCONNECT_JOB_MANAGER_CONFIG_PATH="$REDISCONNECT_HOME/config/jobmanager.properties"</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The most basic Redis Connect configuration includes the url of the Redis database used to store this state.
This URL is stored at the parameter <code>redis.connection.url</code> is <code>jobmanager.properties</code>.</p>
</div>
<div class="sect2">
<h3 id="job-configuration"><a class="anchor" href="#job-configuration"></a>7.1. Job Configuration</h3>
<div class="paragraph">
<p>Redis Connect runs one or more <strong>change-data capture jobs</strong>.
Each job is defined by a JSON configuration payload submitted using the REST API or CLI.
To see examples of this JSON configuration, open the <code>config/samples/payloads</code> folder in the Redis Connect distribution.</p>
</div>
<div class="paragraph">
<p>To save a job configuration, construct your JSON payload and then submit it using the REST API&#8217;s
<a href="#create-job-endpoint">create job endpoint</a>. When you submit this configuration, you will also
provide a unique job name. This job name will be used in the naming of your credentials files.</p>
</div>
</div>
<div class="sect2">
<h3 id="credentials-files"><a class="anchor" href="#credentials-files"></a>7.2. Credentials files</h3>
<div class="paragraph">
<p>Credentials files store authentication credentials for the databases used by Redis Connect.</p>
</div>
<div class="paragraph">
<p>The location of these credentials files is specified at the <code>credentials.dir.path</code> properties in <code>jobmanager.properties</code>.
To learn about which credentials are required, see the <a href="#authentication-credentials">authentication credentials</a>
subsection.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cluster-configuration"><a class="anchor" href="#cluster-configuration"></a>8. Cluster Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes the configuration directives in <code>jobmanager.properties</code>.
Each of the subsections below corresponds to a configuration block in <code>jobmanager.properties</code>.
To see a sample <code>jobmanager.properties</code> file, open <code>config/jobmanager.properties</code> in your Redis Connect distribution.</p>
</div>
<div class="sect2">
<h3 id="cluster-properties"><a class="anchor" href="#cluster-properties"></a>8.1. Cluster properties</h3>
<table id="properties" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Cluster properties</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cluster.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata purposes only. Non-functional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cluster.leader.heartbeat.
lease.renewal.ttl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TTL (Time-to-Live) which is renewed upon each <code>cluster.election.attempt.interval</code> iteration by the cluster leader.</p>
<p class="tableblock">Measured in milliseconds with a minimum of 1 second (1000 ms).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cluster.election.attempt.interval</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fixed rate scheduled thread which either renews or elects a new cluster leader.
Runs on each Redis Connect Instance (JVM) when <code>job.manager.services.enabled=true</code>.</p>
<p class="tableblock">Measured in milliseconds with a minimum of 1 second (1000 ms)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cluster.timeseries.metrics.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables creation of a scheduled thread for job metrics reporting to RedisTimeSeries within the Job Management database.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="job-manager-services-properties"><a class="anchor" href="#job-manager-services-properties"></a>8.2. Job manager services properties</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Job manager services properties</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">job.manager.services.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables creation of scheduled thread(s) to participate in cluster leader elections, facilitate
REST API / CLI (Job Manager service), and identify staged jobs without a heartbeat lease (Job
Reaper service).</p>
<p class="tableblock">When this property is disabled, the Redis Connect instance may still
participate in job execution and job claim attempts (Job Claimer service).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">job.manager.services.threadpool.size</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For non-production deployments, one thread is adequate.
In production, we recommend two threads.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">job.reap.attempt.interval</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The interval between attempts to identify staged jobs without a heartbeat lease.
Implemented as a scheduled thread that runs on each Redis Connect Instance (JVM)
when <code>job.manager.services.enabled=true</code>.</p>
<p class="tableblock">Measured in milliseconds with a minimum of 1 second (1000 ms)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">job.claim.service.enabled</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables creation of scheduled thread(s) to attempt to claim ownership for UNASSIGNED staged jobs (Job Claimer Service),
job execution, and job-level metrics reporting (Metrics Reporter service).</p>
<p class="tableblock">When this property is disabled, the Redis Connect instance may still participate in cluster leader election,
facilitate REST API / CLI, and perform Job Reaper services.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">job.claim.attempt.interval</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interval at which this scheduled thread attempts to claim ownership for UNASSIGNED staged jobs.</p>
<p class="tableblock">Runs on each Redis Connect Instance (JVM) when <code>job.claim.service.enabled=true</code>.</p>
<p class="tableblock">Measured in milliseconds with a minimum of 1 second (1000 ms)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">job.claim.batch.size.per.attempt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies how many jobs can be claimed per attempt interval.
If a sparse topology across many Redis Connect instances is desired, then lowering this interval is recommended.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">job.claim.max.capacity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the maximum number of jobs that a single Redis Connect instance can claim at any given time.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">job.claim.heartbeat.lease.renewal.ttl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TTL (Time-to-Live) which is renewed upon each iteration of a fixed rate scheduled thread that shares its value.</p>
<p class="tableblock">Measured in milliseconds with a minimum of 1 second (1000 ms)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10000</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="rest-api-properties"><a class="anchor" href="#rest-api-properties"></a>8.3. REST API Properties</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. REST API properties</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rest.api.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instantiates an embedded Spring Boot Application to host the REST API and CLI.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rest.api.port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the port used for the REST API (and SWAGGER) powered by an embedded Spring Boot Application.</p>
<p class="tableblock">If you are running multiple Redis Connect instances on the same server, each instance will require a different port
for its REST API.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8282</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="job-management-database-properties"><a class="anchor" href="#job-management-database-properties"></a>8.4. Job Management Database Properties</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Job Management Database Properties</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">redis.connection.url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Redis URI indicating which Redis server to use for job management.</p>
<p class="tableblock">For the Redis URI spec, the <a href="https://lettuce.io/core/release/api/io/lettuce/core/RedisURI.html">Lettuce documentation</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">redis.connection.insecure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passed to Lettuce&#8217;s <code>RedisURI.verifyPeer</code>.</p>
<p class="tableblock">If true then verifyMode=FULL. Otherwise, if false, then verifyMode=NONE.</p>
<p class="tableblock">When peer verification is disabled, Lettuce uses Netty&#8217;s InsecureTrustManagerFactory.INSTANCE as the trust manager factory.
Its javadoc notes that it should never be used in production and that it is purely for testing purposes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">redis.connection.timeout.duration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The timeout is canceled upon command completion/cancellation.
Measured in seconds.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">redis.connection.auto.reconnect</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Determine whether the driver will attempt to automatically reconnect to Redis.</p>
<p class="tableblock">When enabled, then on disconnect, the client will try to reconnect, activate the connection and re-issue any queued commands.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">redis.connection.suspend.reconnect.
on.protocol.failure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When set to <code>true</code>, reconnect will be suspended on protocol errors.</p>
<p class="tableblock">The reconnect itself has two phases:
Socket connection and protocol/connection activation.
In case a connection timeout occurs, a connection reset, or host lookup fails, this does not affect the cancellation of
commands. In contrast, where the protocol/connection activation fails due to SSL errors or PING before activating
connection failure, queued commands are canceled.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">redis.connection.sslEnabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables SSL for one-way or mutual authentication.
If this flag is set to <code>false</code>, TrustStore and KeyStore will not be passed to the client.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="truststore-link"></a>truststore.file.path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File path of the Java TrustStore (containing certificates trusted by the client)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">keystore.file.path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File path of the Java KeyStore, which stores private key entries, certificates with public keys,
or any other secret keys used for various cryptographic purposes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">credentials.dir.path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the directory containing the Redis Connect credentials file.
This directory path must include a properties file named <code>redisconnect_credentials_jobmanager.properties</code>.</p>
<p class="tableblock">Redis Connect never caches or persists credentials. Therefore, on each connection with the source, target, or
job manager database, the credentials are read from a file.
This enhances security and allows for seamless credential rotations and integration with secret management frameworks
such as HashiCorp Vault.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">../config/
samples/
credentials</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">credentials.rotation.event.listener.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When set to <code>true</code>, a listener will be created on the <code>redisconnect_credentials_jobmanager.properties</code> file within the
<code>credentials.dir.path</code> to rotate credentials when they change.</p>
<p class="tableblock">This lets you rotate credentials without restarting your Redis Connect instance.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">credentials.rotation.event.listener.interval</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When <code>credentials.rotation.event.listener.enabled</code> is set to <code>true</code>, this flag sets the frequency at which
is scanned for changes.</p>
<p class="tableblock">Measured in milliseconds with a minimum of 60 seconds (60000 ms)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">60000</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="email-alerting-properties"><a class="anchor" href="#email-alerting-properties"></a>8.5. Email Alerting Properties</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. Email Alerting Properties</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mail.alert.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables email alerts when any error forces a job to stop.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mail.smtp.host</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hostname of the outgoing mail server.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">smtp.gmail.com</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mail.smtp.port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the non-SSL port number of the outgoing mail server.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">587</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mail.smtp.start.tls.enable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set or disable STARTTLS encryption.</p>
<p class="tableblock">StartTLS is an extension of the SMTP protocol that tells the email server that the email client
wants to use a secure connection using TLS or SSL.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mail.smtp.start.tls.required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set or disable the required STARTTLS encryption.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mail.to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The email address to send alerts to.</p>
<p class="tableblock">This email address will also be used as the personal name.
Multiple recipients can be added by delimiting them with a comma.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mail.debug</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set session debugging on or off.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="job-configuration-main"><a class="anchor" href="#job-configuration-main"></a>9. Job Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes the fields in job configuration payloads.</p>
</div>
<div class="paragraph">
<p>Each of the subsections below corresponds to a configuration block in <code>jobmanager.properties</code>.
To see a sample <code>jobmanager.properties</code> file, open <code>config/jobmanager.properties</code> in your Redis Connect distribution.</p>
</div>
<div class="sect2">
<h3 id="job-properties"><a class="anchor" href="#job-properties"></a>9.1. Job properties</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 8. Job properties</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Constraints</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jobName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique name which is used to derive all other Redis metadata keys related to the job execution workflow.
jobName should not be confused with jobId. jobIds are created as part of a job claim. They add-on a namespace to the
jobName to identify the jobType and partitionId (if jobType=PARTITIONED_STREAM).</p>
<p class="tableblock">When jobName is used in logging or administrative processes (i.e., stopJob), the jobName represents ALL job partitions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min=4, max=50
regex pattern="<sup>[</sup>\\s&lt;&gt;(){}\\[\\]'\"/\\\\;`!@#$%&amp;*|]*$"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">partitions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates how many partitions to create during startJob process.
This attribute is ONLY used to partition a job with jobType=PARTITIONED_STREAM. Not jobType=LOAD.
CAUTION: Once a job has started, and job claims are created, a job cannot be repartitioned without deleting all job claims and existing checkpoints. Please reach out to Support to assist with the migration of checkpoints to avoid undesired outcomes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min=1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">maxPartitionsPerClusterMember</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of job partitions that can be claimed, and executed, on the same Redis Connect instance (JVM).</p>
<p class="tableblock">If the limit forces partitions to span more instances than are currently deployed, then the job will not be able to
start nor migrate.</p>
<p class="tableblock">For example, if maxPartitionsPerClusterMember=1 and partitions=3, then the Redis Connect cluster will require at least 3
instances (JVMs) each with at least 1 available capacity to claim a job partition.</p>
<p class="tableblock">This is not a global limit; it is only specific at the job level.
0 represents no limit.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min=0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pipeline</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JSON Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See <a href="#job-pipeline-properties">Job Pipeline Properties</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not Null</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">source</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JSON Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See <a href="#job-source-properties">Job Source Properties</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not Null</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="job-pipeline-properties"><a class="anchor" href="#job-pipeline-properties"></a>9.2. Job Pipeline Properties</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 9. Job Pipeline Properties</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Constraints</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pipelineBufferSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Redis Connect’s pipeline is powered by the LMAX Disruptor library (High Performance Inter-Thread Messaging).</p>
<p class="tableblock">The buffer size sets the number of slots allocated within the Disruptor’s internal ring buffer "queue".</p>
<p class="tableblock">Increasing the buffer size will impact the JVM heap space required to store all transient changed data events within the queue.
For most cases, this can be left as default.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min=1024
Must be a power of 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4096</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">preprocessorName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Functional interface (Consumer) that can be run before changed-data events are transformed and published to the pipeline.</p>
<p class="tableblock">This is currently not extendable by end users.</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">postprocessorName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Functional interface (Consumer) that can be run after changed-data events are transformed and published to the pipeline.</p>
<p class="tableblock">This is currently not extendable by end users.</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Job
Pipeline
Stage[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See <a href="#job-pipeline-stage-properties">Job Pipeline Stage Properties</a></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="job-pipeline-stage-properties"><a class="anchor" href="#job-pipeline-stage-properties"></a>9.3. Job Pipeline Stage Properties</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 10. Job Pipeline Stage Properties</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Constraints</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stageName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique name which is used as an exact match reference to a custom-built target sink or a user-defined custom stage.</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">index</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the sequence in which the stages of the pipeline should be orchestrated.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min=1</p>
<p class="tableblock">Begins with 1 and each subsequent index should increment by 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">metricsEnabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When enabled, the target sink stage will report throughput and latency related metrics for persistence in
RedisTimeSeries. This can subsequently be visualized in Grafana.</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">metricsRetentionInHours</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum duration for metrics samples as compared to the highest reported timestamp before they expire.</p>
<p class="tableblock">Measured in hours.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min=1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">checkpointStageIndicator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates which sink will be responsible for committing the checkpoint to the target database.
This is typically performed by the last stage of the pipeline and, often times, it is the only stage in the pipeline.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Job pipeline can only have a single stage with checkpointStage
<code>Indicator=true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CheckpointTransactionsEnabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Although the producer’s polling event loop enqueues changed-data events in batches, each event is processed
individually through the pipeline. This is because Redis Connect updates the checkpoint at the changed-data event level
and not the batch.</p>
<p class="tableblock">When enabled, the checkpoint will be committed as part of an atomic Redis transaction.
This eliminates consistency issues and improves performance.
Rollback capability is built in to handle any failure scenarios during the transaction so that no data will be lost.</p>
<p class="tableblock">When disabled, the checkpoint will be committed after the the changed-data events are written.
This adds another network round trip for each changed-data event.</p>
<p class="tableblock">While distributed checkpoints have distinct advantages, there is a small tradeoff. Because Redis keys are bound by their
hash-slots, distributed checkpoints require that we store one checkpoint per hash slot.</p>
<p class="tableblock">When enabled, each job partition will have its own 16384 checkpoint keys created in the target database.
With ~250 bytes per checkpoint, each partition’s estimated overhead is ~4MB. When disabled, there is only a single
checkpoint key in the target per partition.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Distributed checkpoints require RediSearch. We use RediSearch to index checkpoint keys so that recovery from the
latest checkpoint is immediate.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">keyPrefix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds a prefix to the target Redis key before the tableName and composition of targetKey enabled columns.</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">userDefinedType</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To create a custom stage, a factory interface must be extended so that Redis Connect can have visibility to it from a
class loading perspective. See section X.X.X.</p>
<p class="tableblock">The interface will force the user to create a <code>getType()</code> method which returns a unique String to represent the custom
factory.
This property must exactly match that custom unique String so that Redis Connect can properly discover and handle it as a custom stage.</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">database</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See Database Properties (Section 4.4)
Configuration for all target database configuration.</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">checkpointDatabase</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See <a href="#database-properties">Database Properties</a>
Checkpoint database configuration.
This is only required if Redis is not the target destination, which is only supported for Splunk.</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="job-source-properties"><a class="anchor" href="#job-source-properties"></a>9.4. Job Source Properties</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 11. Job Source Properties</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Constraints</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pollSourceInterval</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fixed rate interval representing how long to pause the producer’s polling event loop if no new change events were found in the batch.
Measured in milliseconds.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min=5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">50</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">batchSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum # of events to dequeue from the source-event-queue AND maximum # of events to query from the source transaction log/table/queue upon each interval of the producer’s polling event loop.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min=1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">500</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sourceTransactionTimeSequenceEnabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When enabled, the source commit/transaction timestamp (and sequence# if the timestamp is the same) will be used to calculate latency metrics and passed along as metadata for Redis Streams sink(s).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">slowConsumerMaxRetryAttempts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1 = UNLIMITED</p>
<p class="tableblock">0 = DISABLED</p>
<p class="tableblock">1+ = MAX_ATTEMPTS</p>
<p class="tableblock">Used as part of back-pressure support for the data pipeline in the event of a slow consumer.
If the maximum attempts limit is reached, the job will be stopped for purposes of manual intervention.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min=-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">50</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">intermittentEventSleepDuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used as part of back-pressure support for the data pipeline in the event of a slow consumer or the circuit breaker is open.
Forces the event loop to pause for the configured duration of time.
Measured in milliseconds.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min=0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sourceConnectionMaxRetryAttempts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 = DISABLED</p>
<p class="tableblock">1+ = MAX_ATTEMPTS</p>
<p class="tableblock">Maximum retry attempts to reconnect with the source in the event that a connection is lost.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min=0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sourceConnectionMaxRetryDuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In addition to sourceConnectionMaxRetryAttempts, you can also add a max duration, after which retries will stop if the max attempts haven’t already been reached.</p>
<p class="tableblock">Measured in minutes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min=1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sourceConnectionRetryDelayInterval</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fixed delay in between sourceConnectionMaxRetryAttempts.</p>
<p class="tableblock">Measured in seconds.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min=0
sourceConnectionRetryDelayInterval must be &lt; than sourceConnectionRetryDelayInterval</p>
<p class="tableblock">sourceConnectionRetryDelayInterval must be &lt; than sourceConnectionMaxRetryDuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">60</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sourceConnectionRetryMaxDelayInterval</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides an upper bound to calculate the delay interval when sourceConnectionRetryDelayFactor is enabled.</p>
<p class="tableblock">Measured in seconds.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min=0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">240</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sourceConnectionRetryDelayFactor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 = DISABLED</p>
<p class="tableblock">1+ = DELAY_FACTOR</p>
<p class="tableblock">Factor by which delays are exponentially increased after each source connection retry attempt.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min=0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">database</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See <a href="#database-properties">Database Properties</a></p>
<p class="tableblock">Configuration for all source databases.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not Null</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tables</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map&lt;String, Table&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See <a href="#job-source-table-column-properties">Job Source Table Column Properties</a></p>
<p class="tableblock">Configuration for all source tables/collections/regions/logs properties.</p>
<p class="tableblock">Each table within the map requires a unique name which will be used as part of target key composition.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not Null</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="job-source-database-properties"><a class="anchor" href="#job-source-database-properties"></a>9.5. Job Source Database Properties</h3>
<div class="paragraph">
<p>See <a href="#database-properties">Database Properties</a>.</p>
</div>
<div class="sect3">
<h4 id="job-source-table-properties"><a class="anchor" href="#job-source-table-properties"></a>9.5.1. Job Source Table Properties</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 12. Job Source Table Properties</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Constraints</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">autoConfigColumnsEnabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When enabled, source metadata is queried during the (re)start process to determine sourceColumn names so users do not
need to enumerate each within the column&#8217;s configuration.</p>
<p class="tableblock">The columns configuration can be used to override source metadata (i.e., targetName, type, etc.). However, targetKey
designation cannot be overridden since only the source table’s primary key will be used.</p>
<p class="tableblock">This is a common configuration in POCs and development environments since the design of Redis key names are less
important than in production. It also allows for less knowledge about the source table schema.</p>
<p class="tableblock">This is only supported for RDB sources.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dynamicSchemaEnabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When enabled, columns that are not provided in the columns configuration will be passed through, as-is, to the target.
This is currently only supported for MongoDB, Redis Streams Broker, and Files.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">prefixTableNameToTargetKeyEnabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When enabled, adds the tableName (defined in the tables configuration) as a prefix to the target Redis key before all other targetKey enabled columns are computed and applied.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">deleteOnPrimaryKeyUpdateEnabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When enabled, if the primary key is changed at the source, then an additional operation to DELETE the existing target
key will accompany the UPDATE event.</p>
<p class="tableblock">This is only supported for RDB sources since primary key changes require a delete and insert of a new row.</p>
<p class="tableblock">The DELETE event shares an offset with the UPDATE event both at the source and checkpoint. Redis Connect will handle them within a single pipeline iteration.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">changedColumnsOnlyEnabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When enabled, only allows changed (delta) column values to be replicated to the target. This does not include targetKey column(s) which cannot be bypassed.
When disabled, all column values will be replicated to the target unless they are individually bypassed at the column-level using changedColumnOnlyEnabled. (See Section 4.2.2)
When enabled, the column-level changedColumnOnlyEnabled flag will be overridden for all columns other than those designated as targetKey(s).</p>
<p class="tableblock">This is currently only supported for RDB sources.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">columns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Job
Source
Table
Column[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See <a href="#job-source-table-column-properties">Job Source Table Column Properties</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Null</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">initialLoad</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial Load</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See <a href="#job-source-table-initial-load-properties">Job Source Table Initial Load Properties</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Null</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="job-source-table-column-properties"><a class="anchor" href="#job-source-table-column-properties"></a>9.6. Job Source Table Column Properties</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 13. Job Source Table Column Properties</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Constraints</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">targetKey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Designates this column’s value as part of the target’s key composition process.
When more than one column is designated, the order in which they are listed will impact the order in which they are appended to the key.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sourceColumn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exact match identifier for source column name.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">non-empty String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">targetColumn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Preferred field name to be used in the target.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not Empty String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies the source column’s data type which is used to transform the column value to a properly formatted String within the target.
Supported types include: [STRING, VARCHAR, TEXT, INT, DATE, DATE_TIME, BYTE, DEC, NUMERIC, DECIMAL, DOUBLE, FLOAT, LONG, SHORT, RAW, BLOB, CLOB, HASHMAP, CUSTOM]</p>
<p class="tableblock">CUSTOM data type is unique in that it bypasses column value transformation to a String which allows it to be converted manually within a Custom Stage. An example would be converting to a proprietary Oracle Timestamp format. Failure to convert this data type manually will cause errors in Redis-based sinks.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">regexp = "<sup>[</sup>\\s&lt;&gt;(){}\\[\\]'\"/\\\\;`!@#$%&amp;*|]*$"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">STROING</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">changedColumnOnlyEnabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When enabled, only allows changed (delta) column values to be replicated to the target unless targetKey is enabled.
When changedColumnsOnlyEnabled=true at the table-level, this flag will be overridden.
This is currently only supported for RDB sources.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">passThroughEnabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When disabled, the source column value will not be published to the pipeline therefore it cannot be accessed within a
custom stage nor any sink.
The purpose of this flag is to allow source column values to be used for targetKey composition without adding the
column’s name/value pair as a field within the target. As an example, this is common for sources like MongoDB which
generate a "_id" key which can be used as a targetKey but has no value as a field.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">index</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is currently for metadata purposes only and has no functional value.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dateFormat</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used by DATE and DATE_TIME type to override their default.</p>
<p class="tableblock">Default formats are as follows:</p>
<p class="tableblock">DATE = YYYY-MM-dd</p>
<p class="tableblock">DATE_TIME = YYYY-MM-dd HH:mm:ss.S</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">nullFormat</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Users can define how a column value=NULL will be represented in the target.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default is an EMPTY String.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="job-source-table-initial-load-properties"><a class="anchor" href="#job-source-table-initial-load-properties"></a>9.7. Job Source Table Initial Load Properties</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 14. Job Source Table Column Properties</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Constraints</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">partitions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates how many partitions to create during startJob process.</p>
<p class="tableblock">This attribute is ONLY used to partition an initial load with jobType=LOAD.</p>
<p class="tableblock">Each table should be partitioned based on its own size and release window SLAs.</p>
<p class="tableblock">It’s common practice to leverage more partitions for an initial load than on streaming. Please see the Production Readiness section for more detail.
Disclaimer: If the source table has fewer than 500 rows, which is common in a POC/dev environment, all but partition:1 will be stopped so all the rows are loaded from a single partition.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min=1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">maxPartitionsPerClusterMember</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limits how many task partitions can be claimed, and executed, multi-tenant on the same Redis Connect instance (JVM).</p>
<p class="tableblock">If the limit forces partitions to span more nodes than are currently deployed, then the initial load will queue the instantiation of tasks until capacity is reallocated (e.g. earlier tasks complete their load partition).</p>
<p class="tableblock">This is not a job-level limit; it is only specific at the table level.
0 represents no limit.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min=0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">customWhereClause</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Users can specify a WHERE clause to filter the rows required for initial load.
Only the following sources are supported:</p>
<p class="tableblock">- RDB sources support JDBC compliant WHERE statements</p>
<p class="tableblock">- MongoDB supports a BSON filter</p>
<p class="tableblock">- Gemfire supports an Apache Geode WHERE Clause</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rowIndexUsedAsTargetKeyEnabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RDB sources can have tables without primary keys. For those cases, rowIndex can be used as a unique identifier for partitioning purposes.
This is only supported for RDB sources and only for initial load only / ETL jobs.</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="database-properties"><a class="anchor" href="#database-properties"></a>9.8. Database Properties</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 15. Database Properties</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">connectionType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Distinguishes between Job Manager, Job Source, Job Target, and Job Checkpoint databases.</p>
<p class="tableblock">This field is auto-generated.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">databaseType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The following database types are supported:</p>
<p class="tableblock">[DB2, FILES, GEMFIRE, MONGODB, PostgreSQL, ORACLE, POSTGRES, REDIS, REDIS_STREAMS_MESSAGE_BROKER, SPLUNK, SQL_SERVER, VERTICA]</p>
<p class="tableblock">NONE is used for custom stages. Also see userDefinedType.</p>
<p class="tableblock">This is a required field.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">databaseURL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Database URLs specify the subprotocol (the database connectivity mechanism), the database, or server identifier, and a list of properties.</p>
<p class="tableblock">Not required for Gemfire, Splunk, and Files databaseTypes.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">credentialsDirectoryPath</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Each database type other than NONE (used for custom jobs) requires a credentials property file,
even if the credentials are not required.
Credentials property files must adhere to the following filename pattern:
redisconnect_credentials_{source_type | target_type}_{job_name}.properties</p>
<p class="tableblock">The only exception is for Job Manager which has fixed name: redisconnect_credentials_jobmanager.properties</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">credentialsRotationEventListenerEnabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When enabled, the credentialsDirectoryPath will be periodically scanned for changes that are specific to the
property file associated with this database.</p>
<p class="tableblock">If a change is identified, the listener will create a new connection without bringing down the Redis Connect instance
nor stopping the job. There might be a momentary pause in pipeline processing while the connection is being reestablished.
No data will be lost in this process.</p>
<p class="tableblock">Disclaimer: if the new credentials cannot be used to create a connection, the job will be stopped for manual intervention.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">credentialsRotationEventListenerInterval</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fixed rate scheduled interval that scans the credentialsDirectoryPath for changes when credentialsRotationEventListenerEnabled is enabled.
Measured in milliseconds. Minimum=60000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">60000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">customConfiguration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See Custom Configurations.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map
&lt;String, String&gt;</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.10.3<br>
Last updated 2023-08-21 10:55:26 -0600
</div>
</div>
<link rel="stylesheet" href="./coderay-asciidoctor.css">
</body>
</html>